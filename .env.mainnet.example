# Metabridge Engine - Mainnet Environment Configuration
# ⚠️  CRITICAL: This file contains sensitive production configuration
#
# Copy this file to .env.mainnet and fill in your actual values
# NEVER commit .env.mainnet to version control

# =============================================================================
# ENVIRONMENT
# =============================================================================
BRIDGE_ENVIRONMENT=mainnet

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=metabridge
DATABASE_PASSWORD=<CHANGE_THIS_SECURE_PASSWORD>
DATABASE_NAME=metabridge_mainnet
DATABASE_SSL_MODE=require

# =============================================================================
# MESSAGE QUEUE (NATS)
# =============================================================================
NATS_URL=nats://localhost:4222
NATS_CLUSTER_ID=metabridge-mainnet
NATS_CLIENT_ID=metabridge-mainnet-client

# =============================================================================
# CACHE (REDIS)
# =============================================================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=<CHANGE_THIS_SECURE_PASSWORD>
REDIS_DB=0

# =============================================================================
# VALIDATOR CONFIGURATION (3-of-5 Multisig)
# =============================================================================
# Comma-separated list of validator addresses (minimum 5 for mainnet)
VALIDATOR_ADDRESSES=0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb0,0x8626f6940E2eb28930eFb4CeF49B2d1F2C9C1199,0xdD2FD4581271e230360230F9337D5c0430Bf44C0,0x5aAeb6053F3E94C9b9A09f33669435E7Ef1BeAed,0xfB6916095ca1df60bB79Ce92cE3Ea74c37c5d359

# Number of required signatures (3-of-5 for mainnet)
REQUIRED_SIGNATURES=3

# =============================================================================
# AWS KMS CONFIGURATION (Required for mainnet)
# =============================================================================
# AWS KMS Key ID for validator key management
AWS_KMS_KEY_ID=arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012

# AWS Region
AWS_REGION=us-east-1

# AWS Credentials (use IAM roles in production)
AWS_ACCESS_KEY_ID=<YOUR_AWS_ACCESS_KEY>
AWS_SECRET_ACCESS_KEY=<YOUR_AWS_SECRET_KEY>

# =============================================================================
# MULTI-SIGNATURE WALLET
# =============================================================================
# Multi-sig wallet address for contract ownership (3-of-5 required)
MULTI_SIG_WALLET=0x0000000000000000000000000000000000000000

# =============================================================================
# BLOCKCHAIN RPC ENDPOINTS
# =============================================================================
# Use your own dedicated RPC endpoints for production

# Polygon Mainnet
POLYGON_RPC_URL=https://polygon-mainnet.g.alchemy.com/v2/<YOUR_ALCHEMY_KEY>
POLYGON_WS_URL=wss://polygon-mainnet.g.alchemy.com/v2/<YOUR_ALCHEMY_KEY>

# BNB Smart Chain Mainnet
BNB_RPC_URL=https://bsc-dataseed1.binance.org/
BNB_WS_URL=wss://bsc-ws-node.nariox.org:443

# Avalanche C-Chain Mainnet
AVALANCHE_RPC_URL=https://api.avax.network/ext/bc/C/rpc
AVALANCHE_WS_URL=wss://api.avax.network/ext/bc/C/ws

# Ethereum Mainnet
ETHEREUM_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/<YOUR_ALCHEMY_KEY>
ETHEREUM_WS_URL=wss://eth-mainnet.g.alchemy.com/v2/<YOUR_ALCHEMY_KEY>

# Solana Mainnet
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com
SOLANA_WS_URL=wss://api.mainnet-beta.solana.com

# NEAR Mainnet
NEAR_RPC_URL=https://rpc.mainnet.near.org
NEAR_NETWORK_ID=mainnet

# =============================================================================
# API KEYS
# =============================================================================
ALCHEMY_API_KEY=<YOUR_ALCHEMY_API_KEY>
INFURA_API_KEY=<YOUR_INFURA_API_KEY>
QUICKNODE_API_KEY=<YOUR_QUICKNODE_API_KEY>

# Block Explorer API Keys (for contract verification)
POLYGONSCAN_API_KEY=<YOUR_POLYGONSCAN_API_KEY>
BSCSCAN_API_KEY=<YOUR_BSCSCAN_API_KEY>
SNOWTRACE_API_KEY=<YOUR_SNOWTRACE_API_KEY>
ETHERSCAN_API_KEY=<YOUR_ETHERSCAN_API_KEY>

# =============================================================================
# GAS PRICE CONFIGURATION (Mainnet)
# =============================================================================
# Maximum gas prices (in Gwei) - adjust based on market conditions
MAX_GAS_PRICE_POLYGON=500
MAX_GAS_PRICE_BNB=20
MAX_GAS_PRICE_AVALANCHE=100
MAX_GAS_PRICE_ETHEREUM=200

# Gas limit multiplier for safety (1.2 = 20% buffer)
GAS_LIMIT_MULTIPLIER=1.2

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# API rate limiting
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_DAY=10000

# Transaction limits
MAX_TRANSACTION_AMOUNT_USD=100000
DAILY_VOLUME_LIMIT_USD=1000000

# Fraud detection thresholds
FRAUD_DETECTION_ENABLED=true
SUSPICIOUS_PATTERN_THRESHOLD=5
AUTO_PAUSE_ON_FRAUD=true

# =============================================================================
# MONITORING & ALERTING
# =============================================================================
# Prometheus metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_ENABLED=true
GRAFANA_PORT=3000

# Alert destinations
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
PAGERDUTY_INTEGRATION_KEY=<YOUR_PAGERDUTY_KEY>
EMAIL_ALERTS=ops@yourdomain.com,security@yourdomain.com

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================
# Domain for SSL certificate
DOMAIN=bridge.yourdomain.com

# SSL certificate paths (Let's Encrypt)
SSL_CERT_PATH=/etc/letsencrypt/live/bridge.yourdomain.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/bridge.yourdomain.com/privkey.pem

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
# Automatic backup schedule (cron format)
BACKUP_SCHEDULE="0 */6 * * *"  # Every 6 hours

# Backup retention (days)
BACKUP_RETENTION_DAYS=30

# S3 backup destination
S3_BACKUP_BUCKET=metabridge-mainnet-backups
S3_BACKUP_REGION=us-east-1

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=/var/log/metabridge/mainnet.log

# Syslog
SYSLOG_ENABLED=true
SYSLOG_HOST=logs.yourdomain.com
SYSLOG_PORT=514

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
# Worker pool sizes
LISTENER_WORKERS=10
RELAYER_WORKERS=20

# Database connection pool
DB_MAX_CONNECTIONS=100
DB_MAX_IDLE_CONNECTIONS=10

# Cache TTL (seconds)
CACHE_TTL=300

# =============================================================================
# MAINTENANCE WINDOWS
# =============================================================================
# Maintenance mode (set to true to reject new transfers)
MAINTENANCE_MODE=false

# Scheduled maintenance notification
MAINTENANCE_NOTICE="Scheduled maintenance on [DATE] from [TIME] to [TIME] UTC"

# =============================================================================
# COMPLIANCE & LEGAL
# =============================================================================
# Geographic restrictions (comma-separated country codes)
BLOCKED_COUNTRIES=KP,IR,SY,CU

# AML/KYC provider
AML_PROVIDER=chainalysis
AML_API_KEY=<YOUR_AML_API_KEY>

# Terms of service version
TOS_VERSION=1.0.0
TOS_ACCEPTANCE_REQUIRED=true

# =============================================================================
# EMERGENCY CONTACTS
# =============================================================================
EMERGENCY_CONTACT_PRIMARY=+1-555-0101
EMERGENCY_CONTACT_SECONDARY=+1-555-0102
SECURITY_EMAIL=security@yourdomain.com
