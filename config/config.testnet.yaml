environment: "testnet"

server:
  host: "0.0.0.0"
  port: 8080
  tls_enabled: false
  read_timeout: "30s"
  write_timeout: "30s"
  max_header_bytes: 1048576

database:
  host: "localhost"
  port: 5432
  database: "articium_testnet"
  username: "bridge_user"
  password: "${DB_PASSWORD}"
  ssl_mode: "disable"
  max_open_conns: 25
  max_idle_conns: 5
  max_lifetime: "5m"

queue:
  type: "nats"
  urls:
    - "nats://localhost:4222"
  subject: "bridge.messages"
  stream_name: "BRIDGE_MESSAGES"
  max_retries: 3

cache:
  type: "redis"
  addresses:
    - "localhost:6379"
  password: ""
  db: 0
  ttl: "1h"

relayer:
  workers: 5
  max_retries: 3
  retry_backoff: "5s"
  processing_timeout: "2m"
  enable_circuit_breaker: false
  circuit_breaker_threshold: 5
  batch_size: 10

security:
  required_signatures: 2  # 2-of-3 for testnet
  validator_addresses:
    - "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb0"  # EVM validator 1
    - "0x8626f6940E2eb28930eFb4CeF49B2d1F2C9C1199"  # EVM validator 2
    - "0xdD2FD4581271e230360230F9337D5c0430Bf44C0"  # EVM validator 3
  max_transaction_amount: "10000"  # $10,000 USD
  daily_volume_limit: "100000"     # $100,000 USD
  enable_rate_limiting: true
  rate_limit_per_hour: 100
  rate_limit_per_address: 20
  enable_emergency_pause: false
  enable_fraud_detection: false
  large_transaction_threshold: "5000"

crypto:
  evm_keystore_path: "./keystore/testnet/evm_validator.json"
  solana_keystore_path: "./keystore/testnet/solana_validator.json"
  near_keystore_path: "./keystore/testnet/near_validator.json"
  password_env_var: "TESTNET_KEYSTORE_PASSWORD"
  use_aws_kms: false

monitoring:
  prometheus_port: 9090
  enable_tracing: false
  jaeger_endpoint: ""
  log_level: "debug"
  enable_metrics_export: false
  metrics_export_interval: "30s"

alerting:
  enabled: false
  slack_webhook: ""
  pagerduty_key: ""
  alert_on_failure_threshold: 5
  alert_on_high_gas: false
  alert_on_large_transaction: false

chains:
  # Polygon Amoy Testnet
  - name: "polygon-amoy"
    chain_type: "EVM"
    environment: "testnet"
    chain_id: "80002"
    rpc_endpoints:
      - "https://rpc-amoy.polygon.technology/"
      - "https://polygon-amoy.g.alchemy.com/v2/${ALCHEMY_API_KEY}"
      - "https://polygon-amoy.infura.io/v3/${INFURA_API_KEY}"
    ws_endpoint: "wss://polygon-amoy.g.alchemy.com/v2/${ALCHEMY_API_KEY}"
    bridge_contract: "${POLYGON_AMOY_BRIDGE_CONTRACT}"
    start_block: 0
    confirmation_blocks: 128
    block_time: "2s"
    max_gas_price: "500"
    gas_limit_multiplier: 1.2
    max_reorg_depth: 256
    enabled: true

  # BNB Smart Chain Testnet
  - name: "bnb-testnet"
    chain_type: "EVM"
    environment: "testnet"
    chain_id: "97"
    rpc_endpoints:
      - "https://data-seed-prebsc-1-s1.binance.org:8545/"
      - "https://data-seed-prebsc-2-s1.binance.org:8545/"
      - "https://bsc-testnet.publicnode.com"
    ws_endpoint: "wss://bsc-testnet.publicnode.com"
    bridge_contract: "${BNB_TESTNET_BRIDGE_CONTRACT}"
    start_block: 0
    confirmation_blocks: 15
    block_time: "3s"
    max_gas_price: "20"
    gas_limit_multiplier: 1.2
    max_reorg_depth: 30
    enabled: true

  # Avalanche Fuji Testnet (C-Chain)
  - name: "avalanche-fuji"
    chain_type: "EVM"
    environment: "testnet"
    chain_id: "43113"
    rpc_endpoints:
      - "https://api.avax-test.network/ext/bc/C/rpc"
      - "https://avalanche-fuji.infura.io/v3/${INFURA_API_KEY}"
      - "https://ava-testnet.public.blastapi.io/ext/bc/C/rpc"
    ws_endpoint: "wss://api.avax-test.network/ext/bc/C/ws"
    bridge_contract: "${AVALANCHE_FUJI_BRIDGE_CONTRACT}"
    start_block: 0
    confirmation_blocks: 10
    block_time: "2s"
    max_gas_price: "100"
    gas_limit_multiplier: 1.2
    max_reorg_depth: 20
    enabled: true

  # Ethereum Sepolia Testnet
  - name: "ethereum-sepolia"
    chain_type: "EVM"
    environment: "testnet"
    chain_id: "11155111"
    rpc_endpoints:
      - "https://sepolia.infura.io/v3/${INFURA_API_KEY}"
      - "https://eth-sepolia.g.alchemy.com/v2/${ALCHEMY_API_KEY}"
      - "https://ethereum-sepolia.publicnode.com"
    ws_endpoint: "wss://eth-sepolia.g.alchemy.com/v2/${ALCHEMY_API_KEY}"
    bridge_contract: "${ETHEREUM_SEPOLIA_BRIDGE_CONTRACT}"
    start_block: 0
    confirmation_blocks: 32
    block_time: "12s"
    max_gas_price: "100"
    gas_limit_multiplier: 1.3
    max_reorg_depth: 64
    enabled: true

  # Solana Devnet
  - name: "solana-devnet"
    chain_type: "SOLANA"
    environment: "testnet"
    network_id: "devnet"
    rpc_endpoints:
      - "https://api.devnet.solana.com"
      - "https://devnet.helius-rpc.com/?api-key=${HELIUS_API_KEY}"
    ws_endpoint: "wss://api.devnet.solana.com"
    bridge_program: "${SOLANA_DEVNET_BRIDGE_PROGRAM}"
    start_slot: 0
    confirmation_slots: 32
    commitment: "finalized"
    block_time: "400ms"
    compute_unit_price: "1000"
    max_retries: 3
    poll_interval: "2s"
    enabled: true

  # NEAR Testnet
  - name: "near-testnet"
    chain_type: "NEAR"
    environment: "testnet"
    network_id: "testnet"
    rpc_endpoints:
      - "https://rpc.testnet.near.org"
      - "https://near-testnet.api.pagoda.co/rpc/v1/"
    bridge_contract: "${NEAR_TESTNET_BRIDGE_CONTRACT}"
    start_block: 0
    confirmation_blocks: 3
    block_time: "1s"
    poll_interval: "2s"
    enabled: true

  # TRON Nile Testnet
  - name: "tron-nile"
    chain_type: "EVM"
    environment: "testnet"
    chain_id: "3448148188"
    rpc_endpoints:
      - "https://api.nileex.io"
      - "https://nile.trongrid.io"
    bridge_contract: "${TRON_NILE_BRIDGE_CONTRACT}"
    start_block: 0
    confirmation_blocks: 19
    block_time: "3s"
    max_gas_price: "1000"
    gas_limit_multiplier: 1.2
    max_reorg_depth: 30
    enabled: true

  # Fantom Testnet
  - name: "fantom-testnet"
    chain_type: "EVM"
    environment: "testnet"
    chain_id: "4002"
    rpc_endpoints:
      - "https://rpc.testnet.fantom.network"
      - "https://fantom-testnet.publicnode.com"
    ws_endpoint: "wss://ws.testnet.fantom.network"
    bridge_contract: "${FANTOM_TESTNET_BRIDGE_CONTRACT}"
    start_block: 0
    confirmation_blocks: 10
    block_time: "1s"
    max_gas_price: "100"
    gas_limit_multiplier: 1.2
    max_reorg_depth: 20
    enabled: true

  # Arbitrum Sepolia
  - name: "arbitrum-sepolia"
    chain_type: "EVM"
    environment: "testnet"
    chain_id: "421614"
    rpc_endpoints:
      - "https://sepolia-rollup.arbitrum.io/rpc"
      - "https://arbitrum-sepolia.publicnode.com"
    bridge_contract: "${ARBITRUM_SEPOLIA_BRIDGE_CONTRACT}"
    start_block: 0
    confirmation_blocks: 10
    block_time: "250ms"
    max_gas_price: "2"
    gas_limit_multiplier: 1.3
    max_reorg_depth: 20
    enabled: true

  # Optimism Sepolia
  - name: "optimism-sepolia"
    chain_type: "EVM"
    environment: "testnet"
    chain_id: "11155420"
    rpc_endpoints:
      - "https://sepolia.optimism.io"
      - "https://optimism-sepolia.publicnode.com"
    bridge_contract: "${OPTIMISM_SEPOLIA_BRIDGE_CONTRACT}"
    start_block: 0
    confirmation_blocks: 10
    block_time: "2s"
    max_gas_price: "0.1"
    gas_limit_multiplier: 1.2
    max_reorg_depth: 20
    enabled: true

  # Harmony Testnet
  - name: "harmony-testnet"
    chain_type: "EVM"
    environment: "testnet"
    chain_id: "1666700000"
    rpc_endpoints:
      - "https://api.s0.b.hmny.io"
      - "https://api.s0.pops.one"
    bridge_contract: "${HARMONY_TESTNET_BRIDGE_CONTRACT}"
    start_block: 0
    confirmation_blocks: 10
    block_time: "2s"
    max_gas_price: "100"
    gas_limit_multiplier: 1.2
    max_reorg_depth: 20
    enabled: true

  # Algorand Testnet
  - name: "algorand-testnet"
    chain_type: "ALGORAND"
    environment: "testnet"
    network_id: "testnet"
    rpc_endpoints:
      - "https://testnet-api.algonode.cloud"
      - "https://testnet-api.4160.nodely.io"
    bridge_contract: "${ALGORAND_TESTNET_BRIDGE_APP}"
    start_block: 0
    confirmation_blocks: 1
    block_time: "4.5s"
    poll_interval: "5s"
    enabled: true

  # Aptos Testnet
  - name: "aptos-testnet"
    chain_type: "APTOS"
    environment: "testnet"
    network_id: "testnet"
    rpc_endpoints:
      - "https://fullnode.testnet.aptoslabs.com/v1"
      - "https://aptos-testnet.public.blastapi.io"
    bridge_contract: "${APTOS_TESTNET_BRIDGE_MODULE}"
    start_block: 0
    confirmation_blocks: 1
    block_time: "1s"
    poll_interval: "2s"
    enabled: true
