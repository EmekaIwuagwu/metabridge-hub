environment: "mainnet"

server:
  host: "0.0.0.0"
  port: 8080
  tls_enabled: true
  tls_cert_path: "/etc/bridge/certs/server.crt"
  tls_key_path: "/etc/bridge/certs/server.key"
  read_timeout: "30s"
  write_timeout: "30s"
  max_header_bytes: 1048576

database:
  host: "${DB_HOST}"
  port: 5432
  database: "articium_mainnet"
  username: "bridge_user"
  password: "${DB_PASSWORD}"
  ssl_mode: "require"
  max_open_conns: 50
  max_idle_conns: 10
  max_lifetime: "10m"

queue:
  type: "nats"
  urls:
    - "${NATS_URL_1}"
    - "${NATS_URL_2}"
    - "${NATS_URL_3}"
  subject: "bridge.messages"
  stream_name: "BRIDGE_MESSAGES"
  max_retries: 5

cache:
  type: "redis"
  addresses:
    - "${REDIS_URL_1}"
    - "${REDIS_URL_2}"
    - "${REDIS_URL_3}"
  password: "${REDIS_PASSWORD}"
  db: 0
  ttl: "6h"

relayer:
  workers: 10
  max_retries: 5
  retry_backoff: "10s"
  processing_timeout: "5m"
  enable_circuit_breaker: true
  circuit_breaker_threshold: 5
  batch_size: 5

security:
  required_signatures: 3  # 3-of-5 for mainnet
  validator_addresses:
    - "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb0"  # EVM validator 1
    - "0x8626f6940E2eb28930eFb4CeF49B2d1F2C9C1199"  # EVM validator 2
    - "0xdD2FD4581271e230360230F9337D5c0430Bf44C0"  # EVM validator 3
    - "0x5aAeb6053F3E94C9b9A09f33669435E7Ef1BeAed"  # EVM validator 4
    - "0xfB6916095ca1df60bB79Ce92cE3Ea74c37c5d359"  # EVM validator 5
  max_transaction_amount: "1000000"  # $1,000,000 USD
  daily_volume_limit: "10000000"     # $10,000,000 USD
  enable_rate_limiting: true
  rate_limit_per_hour: 20
  rate_limit_per_address: 5
  enable_emergency_pause: true
  enable_fraud_detection: true
  alerting_webhook: "${ALERT_WEBHOOK_URL}"
  large_transaction_threshold: "100000"  # $100,000 USD

crypto:
  evm_keystore_path: "/secure/keystore/mainnet/evm_validator.json"
  solana_keystore_path: "/secure/keystore/mainnet/solana_validator.json"
  near_keystore_path: "/secure/keystore/mainnet/near_validator.json"
  password_env_var: "MAINNET_KEYSTORE_PASSWORD"
  use_aws_kms: true
  kms_key_ids:
    evm: "${AWS_KMS_EVM_KEY_ID}"
    solana: "${AWS_KMS_SOLANA_KEY_ID}"
    near: "${AWS_KMS_NEAR_KEY_ID}"

monitoring:
  prometheus_port: 9090
  enable_tracing: true
  jaeger_endpoint: "http://jaeger:14268/api/traces"
  log_level: "warn"
  enable_metrics_export: true
  metrics_export_interval: "30s"

alerting:
  enabled: true
  slack_webhook: "${SLACK_ALERT_WEBHOOK}"
  pagerduty_key: "${PAGERDUTY_INTEGRATION_KEY}"
  alert_on_failure_threshold: 3
  alert_on_high_gas: true
  alert_on_large_transaction: true
  large_transaction_threshold: "100000"  # USD

chains:
  # Polygon Mainnet
  - name: "polygon-mainnet"
    chain_type: "EVM"
    environment: "mainnet"
    chain_id: "137"
    rpc_endpoints:
      - "https://polygon-rpc.com/"
      - "https://polygon-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}"
      - "https://rpc.ankr.com/polygon"
      - "https://polygon.llamarpc.com"
    ws_endpoint: "wss://polygon-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}"
    bridge_contract: "${POLYGON_MAINNET_BRIDGE_CONTRACT}"
    start_block: 0
    confirmation_blocks: 256
    block_time: "2s"
    max_gas_price: "500"
    gas_limit_multiplier: 1.3
    max_reorg_depth: 512
    enabled: true

  # BNB Smart Chain Mainnet
  - name: "bnb-mainnet"
    chain_type: "EVM"
    environment: "mainnet"
    chain_id: "56"
    rpc_endpoints:
      - "https://bsc-dataseed.binance.org/"
      - "https://bsc-dataseed1.defibit.io/"
      - "https://bsc-dataseed1.ninicoin.io/"
      - "https://rpc.ankr.com/bsc"
    ws_endpoint: "wss://bsc-mainnet.nodereal.io/ws/v1/${NODEREAL_API_KEY}"
    bridge_contract: "${BNB_MAINNET_BRIDGE_CONTRACT}"
    start_block: 0
    confirmation_blocks: 30
    block_time: "3s"
    max_gas_price: "20"
    gas_limit_multiplier: 1.3
    max_reorg_depth: 60
    enabled: true

  # Avalanche Mainnet (C-Chain)
  - name: "avalanche-mainnet"
    chain_type: "EVM"
    environment: "mainnet"
    chain_id: "43114"
    rpc_endpoints:
      - "https://api.avax.network/ext/bc/C/rpc"
      - "https://avalanche-mainnet.infura.io/v3/${INFURA_API_KEY}"
      - "https://rpc.ankr.com/avalanche"
      - "https://ava-mainnet.public.blastapi.io/ext/bc/C/rpc"
    ws_endpoint: "wss://api.avax.network/ext/bc/C/ws"
    bridge_contract: "${AVALANCHE_MAINNET_BRIDGE_CONTRACT}"
    start_block: 0
    confirmation_blocks: 20
    block_time: "2s"
    max_gas_price: "100"
    gas_limit_multiplier: 1.3
    max_reorg_depth: 40
    enabled: true

  # Ethereum Mainnet
  - name: "ethereum-mainnet"
    chain_type: "EVM"
    environment: "mainnet"
    chain_id: "1"
    rpc_endpoints:
      - "https://mainnet.infura.io/v3/${INFURA_API_KEY}"
      - "https://eth-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}"
      - "https://cloudflare-eth.com"
      - "https://rpc.ankr.com/eth"
    ws_endpoint: "wss://eth-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}"
    bridge_contract: "${ETHEREUM_MAINNET_BRIDGE_CONTRACT}"
    start_block: 0
    confirmation_blocks: 64
    block_time: "12s"
    max_gas_price: "200"
    gas_limit_multiplier: 1.5
    max_reorg_depth: 128
    enabled: true

  # Solana Mainnet-Beta
  - name: "solana-mainnet"
    chain_type: "SOLANA"
    environment: "mainnet"
    network_id: "mainnet-beta"
    rpc_endpoints:
      - "https://api.mainnet-beta.solana.com"
      - "https://mainnet.helius-rpc.com/?api-key=${HELIUS_API_KEY}"
      - "https://solana-api.projectserum.com"
    ws_endpoint: "wss://api.mainnet-beta.solana.com"
    bridge_program: "${SOLANA_MAINNET_BRIDGE_PROGRAM}"
    start_slot: 0
    confirmation_slots: 32
    commitment: "finalized"
    block_time: "400ms"
    compute_unit_price: "5000"
    max_retries: 5
    poll_interval: "1s"
    enabled: true

  # NEAR Mainnet
  - name: "near-mainnet"
    chain_type: "NEAR"
    environment: "mainnet"
    network_id: "mainnet"
    rpc_endpoints:
      - "https://rpc.mainnet.near.org"
      - "https://near-mainnet.api.pagoda.co/rpc/v1/"
      - "https://rpc.near.org"
    bridge_contract: "${NEAR_MAINNET_BRIDGE_CONTRACT}"
    start_block: 0
    confirmation_blocks: 3
    block_time: "1s"
    poll_interval: "2s"
    enabled: true
